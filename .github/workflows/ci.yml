name: Workflow 1
on:
  push:
    branches: main
  
jobs:
  build:
    runs-on: ubuntu-latest
    outputs: 
      FIRST_COMMIT: ${{ steps.set_first_commit.outputs.FIRST_COMMIT }}
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Get First Commit 
        id: set_first_commit
        run: |
            echo "FIRST_COMMIT=$(git rev-list --max-parents=0 HEAD)" >> $GITHUB_OUTPUT

      - name: Print First Commit 
        run: |
            echo "${{ env.FIRST_COMMIT }}"

  build2:
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Print First Commit from Previous Job
        run: |
            echo "${{ needs.build.outputs.FIRST_COMMIT }}"  

  build3:
      runs-on: ubuntu-latest
      needs: build
      steps:
        - name: Call Workflow 2
          uses: ./.github/workflows/ci2.yml
          with:
            # workflow: reusable-workflow.yml
            inputs: |
              commit_id=${{ needs.build.outputs.FIRST_COMMIT }}
          

      
          
         
        
      
